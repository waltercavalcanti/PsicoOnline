@page "/grausparentesco"
@inject IGrauParentescoService GrauParentescoService
@inject NavigationManager NavigationManager

<PageTitle>Graus de Parentesco</PageTitle>

<h1>Graus de Parentesco</h1>

@if (GrauParentescoService.GrausParentesco == null)
{
	<p><em>Carregando...</em></p>
}
else if (GrauParentescoService.GrausParentesco.Count == 0)
{
	<p><em>Nenhum grau de parentesco cadastrado.</em></p>
}
else
{
	<table class="table">
		<thead>
			<tr>
				<th>Descrição</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			@foreach (var grauParentesco in GrauParentescoService.GrausParentesco)
			{
				<tr>
					<td>@grauParentesco.Descricao</td>
					<td>
						<button class="btn btn-primary" @onclick="() => EditarGrauParentesco(grauParentesco.Id)"><i class="oi oi-pencil"></i></button>
					</td>
				</tr>
			}
		</tbody>
	</table>
	<button class="btn btn-primary" @onclick="AddGrauParentesco">Adicionar</button>
}

@code {
	protected override async Task OnInitializedAsync()
	{
		await GrauParentescoService.GetAllGrausParentescoAsync();
	}

	void EditarGrauParentesco(int id)
	{
		NavigationManager.NavigateTo($"grauparentesco/{id}");
	}

	void AddGrauParentesco()
	{
		NavigationManager.NavigateTo("grauparentesco");
	}
}
